{"version":3,"sources":["webpack:///./src/views/svg_to_canvas.vue?d739","webpack:///src/views/svg_to_canvas.vue","webpack:///./src/views/svg_to_canvas.vue?a2c2","webpack:///./src/views/svg_to_canvas.vue","webpack:///./src/views/svg_to_canvas.vue?f58f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","attrs","_v","on","$event","checkedShapeShow","domProps","_s","svg","style","height","activeTop","checkedShape","shapeId","cols","rows","selectedSeatList","length","addSeat","removeSeat","cancleSeleced","left","activeLeft","seatCanvas","paddingLeft","hoverPinkBox","width","_l","idx","key","checkedRowsOrCols","hoverRowsOrCols","startCol","paddingTop","top","startRow","directives","name","rawName","value","expression","selectedBox","checkedShapePopData","modifiers","target","composing","$set","_n","$forceUpdate","class","orderRow","orderCol","checkedShapeSeatComfrim","checkedShapeSeatCancle","hoverInfo","text","staticRenderFns","component"],"mappings":"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","file":"js/chunk-b269fcd8.6526e464.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"warp\"},[_c('div',{staticStyle:{\"display\":\"none\"}},[_c('img',{ref:\"iconNone\",attrs:{\"src\":require(\"../assets/seat_icon_none.svg\"),\"alt\":\"\",\"sizes\":\"\",\"srcset\":\"\"}}),_c('img',{ref:\"iconSelected\",attrs:{\"src\":require(\"../assets/seat_icon_org.svg\"),\"alt\":\"\",\"sizes\":\"\",\"srcset\":\"\"}})]),_c('div',{staticClass:\"top clear\"},[_c('router-link',{attrs:{\"to\":\"/svg_to_svg\"}},[_vm._v(\"toMap\")]),_c('img',{ref:\"iconShow\",attrs:{\"src\":require(\"../assets/seat_icon_show.svg\"),\"alt\":\"\",\"sizes\":\"\",\"srcset\":\"\",\"id\":\"500\"}}),_c('button',{on:{\"click\":function($event){_vm.checkedShapeShow=true}}},[_vm._v(\"修改区域座位信息\")])],1),_c('div',{staticClass:\"bottom clear\"},[_c('div',{staticClass:\"content-warp\"},[_c('div',{ref:\"content\",staticClass:\"content\"},[_c('div',{ref:\"svgWarp\",staticClass:\"svg-warp\",domProps:{\"innerHTML\":_vm._s(_vm.svg)}})])]),_c('div',{ref:\"activeArea\",staticClass:\"active-area\"},[_c('div',{staticClass:\"active-top\",style:({height:_vm.activeTop+'px'})},[_c('p',[_vm._v(\"shapeId:\"+_vm._s(_vm.checkedShape.shapeId)+\" cols:\"+_vm._s(_vm.checkedShape.cols)+\" rows:\"+_vm._s(_vm.checkedShape.rows))]),_c('div',{staticClass:\"btns\"},[_c('button',{attrs:{\"disabled\":_vm.selectedSeatList.length==0},on:{\"click\":_vm.addSeat}},[_vm._v(\"添加座位\")]),_c('button',{attrs:{\"disabled\":_vm.selectedSeatList.length==0},on:{\"click\":_vm.removeSeat}},[_vm._v(\"删除座位\")]),_c('button',{attrs:{\"disabled\":_vm.selectedSeatList.length==0},on:{\"click\":_vm.cancleSeleced}},[_vm._v(\"取消选择\")])]),_c('div',{staticClass:\"cols-span\",style:({left:_vm.activeLeft+_vm.seatCanvas.paddingLeft+_vm.seatCanvas.left+'px'}),on:{\"mouseout\":function($event){_vm.hoverPinkBox.width = 0;_vm.hoverPinkBox.height = 0;}}},_vm._l((_vm.checkedShape.cols),function(cols,idx){return _c('span',{key:idx,on:{\"click\":function($event){return _vm.checkedRowsOrCols(idx,false)},\"mouseover\":function($event){return _vm.hoverRowsOrCols(idx,false)}}},[_vm._v(_vm._s(_vm.checkedShape.startCol+idx)+\" 列\")])}),0)]),_c('div',{staticClass:\"active-left\",style:({width:_vm.activeLeft+'px',paddingTop:_vm.seatCanvas.paddingTop+'px'})},[_c('div',{staticClass:\"rows-span\",style:({top:_vm.seatCanvas.paddingTop+_vm.seatCanvas.top+'px'}),on:{\"mouseout\":function($event){_vm.hoverPinkBox.width = 0;_vm.hoverPinkBox.height = 0;}}},_vm._l((_vm.checkedShape.rows),function(rows,idx){return _c('span',{key:idx,on:{\"click\":function($event){return _vm.checkedRowsOrCols(idx,true)},\"mouseover\":function($event){return _vm.hoverRowsOrCols(idx,true)}}},[_vm._v(_vm._s(_vm.checkedShape.startRow+idx)+\" 排\")])}),0)]),_c('div',{ref:\"seatCanvasWarp\",staticClass:\"seat-canvas-warp\"},[_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkedShape.shapeId!=null&&!_vm.checkedShapeShow),expression:\"checkedShape.shapeId!=null&&!checkedShapeShow\"}],ref:\"seatCanvas\",staticClass:\"seat-canvas\",attrs:{\"id\":\"seatCanvas\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedBox.width>0&&_vm.selectedBox.height>0&&!_vm.checkedShapeShow),expression:\"selectedBox.width>0&&selectedBox.height>0&&!checkedShapeShow\"}],ref:\"selectedBox\",staticClass:\"selected-box\",style:({width:_vm.selectedBox.width+'px',height:_vm.selectedBox.height+'px',top:_vm.selectedBox.top+'px',left:_vm.selectedBox.left+'px'})},[_vm._v(\"selectedBox\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hoverPinkBox.width!=0),expression:\"hoverPinkBox.width!=0\"}],ref:\"hoverPinkBox\",staticClass:\"hover-box\",style:({width:_vm.hoverPinkBox.width+'px',height:_vm.hoverPinkBox.height+'px',top:_vm.hoverPinkBox.top+'px',left:_vm.hoverPinkBox.left+'px'})},[_vm._v(\"hoverPinkBox\")]),_c('div',{ref:\"onlyForAction\",staticClass:\"only-for-action\",style:({width:_vm.seatCanvas.width+'px',height:_vm.seatCanvas.height+'px'})})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkedShapeShow),expression:\"checkedShapeShow\"}],staticClass:\"pop\"},[_c('div',{staticClass:\"pop-content\"},[_c('h4',[_c('span',[_vm._v(\"行：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.checkedShapePopData.rows),expression:\"checkedShapePopData.rows\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.checkedShapePopData.rows)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.checkedShapePopData, \"rows\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('h4',[_c('span',[_vm._v(\"列：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.checkedShapePopData.cols),expression:\"checkedShapePopData.cols\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.checkedShapePopData.cols)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.checkedShapePopData, \"cols\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('h4',[_c('span',[_vm._v(\"排座-起始行：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.checkedShapePopData.startRow),expression:\"checkedShapePopData.startRow\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.checkedShapePopData.startRow)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.checkedShapePopData, \"startRow\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('h4',[_c('span',[_vm._v(\"排座-起始列（座）：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.checkedShapePopData.startCol),expression:\"checkedShapePopData.startCol\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.checkedShapePopData.startCol)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.checkedShapePopData, \"startCol\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('h4',[_c('span',[_vm._v(\"横向排序方向：\")]),_c('em',{staticClass:\"radio\",class:{'checked':_vm.checkedShapePopData.orderRow==0},on:{\"click\":function($event){_vm.checkedShapePopData.orderRow=0}}},[_vm._v(\"逆时针\")]),_c('em',{staticClass:\"radio\",class:{'checked':_vm.checkedShapePopData.orderRow==1},on:{\"click\":function($event){_vm.checkedShapePopData.orderRow=1}}},[_vm._v(\"顺时针\")])]),_c('h4',[_c('span',[_vm._v(\"竖直排序方向：\")]),_c('em',{staticClass:\"radio\",class:{'checked':_vm.checkedShape.orderCol==0},on:{\"click\":function($event){_vm.checkedShapePopData.orderCol=0}}},[_vm._v(\"由里向外\")]),_c('em',{staticClass:\"radio\",class:{'checked':_vm.checkedShapePopData.orderCol==1},on:{\"click\":function($event){_vm.checkedShapePopData.orderCol=1}}},[_vm._v(\"由外向里\")])]),_c('h4',[_c('button',{on:{\"click\":_vm.checkedShapeSeatComfrim}},[_vm._v(\"确认\")]),_c('button',{on:{\"click\":_vm.checkedShapeSeatCancle}},[_vm._v(\"取消\")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hoverInfo.show),expression:\"hoverInfo.show\"}],staticClass:\"hover-info\",style:({left:_vm.hoverInfo.left+'px',top:_vm.hoverInfo.top+'px'})},[_c('span',[_vm._v(_vm._s(_vm.hoverInfo.text))]),_c('div')])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n.warp\r\n\tdiv(style=\"display:none;\")\r\n\t\timg( ref=\"iconNone\" src=\"../assets/seat_icon_none.svg\" alt=\"\" sizes=\"\" srcset=\"\")\r\n\t\timg( ref=\"iconSelected\" src=\"../assets/seat_icon_org.svg\" alt=\"\" sizes=\"\" srcset=\"\")\r\n\t.top.clear\r\n\t\trouter-link(to=\"/svg_to_svg\") toMap\r\n\t\timg( ref=\"iconShow\" src=\"../assets/seat_icon_show.svg\" alt=\"\" sizes=\"\" srcset=\"\" id=\"500\")\r\n\t\t//- button(@click=\"miniMap.show=!miniMap.show\") miniMap\r\n\t\tbutton(@click=\"checkedShapeShow=true\") 修改区域座位信息\r\n\t\t//button(@click=\"toMax\") toMax\r\n\t.bottom.clear\r\n\t\t.content-warp\r\n\t\t\t.content(ref=\"content\")\r\n\t\t\t\t.svg-warp(ref=\"svgWarp\" v-html=\"svg\")\r\n\t\t//- 操作区域\r\n\t\t.active-area(ref=\"activeArea\" )\r\n\t\t\t.active-top(:style=\"{height:activeTop+'px'}\")\r\n\t\t\t\tp shapeId:{{checkedShape.shapeId}}  cols:{{checkedShape.cols}}  rows:{{checkedShape.rows}}\r\n\t\t\t\t.btns\r\n\t\t\t\t\tbutton(@click=\"addSeat\",:disabled=\"selectedSeatList.length==0\") 添加座位\r\n\t\t\t\t\tbutton(@click=\"removeSeat\",:disabled=\"selectedSeatList.length==0\") 删除座位\r\n\t\t\t\t\tbutton(@click=\"cancleSeleced\",:disabled=\"selectedSeatList.length==0\") 取消选择\r\n\t\t\t\t.cols-span(:style=\"{left:activeLeft+seatCanvas.paddingLeft+seatCanvas.left+'px'}\" @mouseout=\"hoverPinkBox.width = 0;hoverPinkBox.height = 0;\")\r\n\t\t\t\t\tspan(v-for=\"(cols,idx) in checkedShape.cols\",:key=\"idx\" @click=\"checkedRowsOrCols(idx,false)\"  @mouseover=\"hoverRowsOrCols(idx,false)\" ) {{checkedShape.startCol+idx}} 列\r\n\t\t\t.active-left(:style=\"{width:activeLeft+'px',paddingTop:seatCanvas.paddingTop+'px'}\")\r\n\t\t\t\t.rows-span(:style=\"{top:seatCanvas.paddingTop+seatCanvas.top+'px'}\" @mouseout=\"hoverPinkBox.width = 0;hoverPinkBox.height = 0;\")\r\n\t\t\t\t\tspan(v-for=\"(rows,idx) in checkedShape.rows\",:key=\"idx\" @click=\"checkedRowsOrCols(idx,true)\" @mouseover=\"hoverRowsOrCols(idx,true)\"  ) {{checkedShape.startRow+idx}} 排\r\n\t\t\t.seat-canvas-warp(ref=\"seatCanvasWarp\")\r\n\t\t\t\tcanvas.seat-canvas(v-show=\"checkedShape.shapeId!=null&&!checkedShapeShow\" id=\"seatCanvas\" ref=\"seatCanvas\")\r\n\t\t\t\t.selected-box( ref=\"selectedBox\" v-show=\"selectedBox.width>0&&selectedBox.height>0&&!checkedShapeShow\" ,:style=\"{width:selectedBox.width+'px',height:selectedBox.height+'px',top:selectedBox.top+'px',left:selectedBox.left+'px'}\") selectedBox\r\n\t\t\t\t.hover-box(ref=\"hoverPinkBox\" v-show=\"hoverPinkBox.width!=0\" ,:style=\"{width:hoverPinkBox.width+'px',height:hoverPinkBox.height+'px',top:hoverPinkBox.top+'px',left:hoverPinkBox.left+'px'}\") hoverPinkBox\r\n\t\t\t\t.only-for-action(ref=\"onlyForAction\",:style=\"{width:seatCanvas.width+'px',height:seatCanvas.height+'px'}\")\r\n\t.pop(v-show=\"checkedShapeShow\")\r\n\t\t.pop-content\r\n\t\t\th4\r\n\t\t\t\tspan 行：\r\n\t\t\t\tinput(type=\"number\" v-model.number=\"checkedShapePopData.rows\")\r\n\t\t\th4\r\n\t\t\t\tspan 列：\r\n\t\t\t\tinput(type=\"number\" v-model.number=\"checkedShapePopData.cols\")\r\n\t\t\th4\r\n\t\t\t\tspan 排座-起始行：\r\n\t\t\t\tinput(type=\"number\" v-model.number=\"checkedShapePopData.startRow\")\r\n\t\t\th4\r\n\t\t\t\tspan 排座-起始列（座）：\r\n\t\t\t\tinput(type=\"number\" v-model.number=\"checkedShapePopData.startCol\")\r\n\t\t\th4\r\n\t\t\t\tspan 横向排序方向：\r\n\t\t\t\tem.radio(:class=\"{'checked':checkedShapePopData.orderRow==0}\" @click=\"checkedShapePopData.orderRow=0\") 逆时针\r\n\t\t\t\tem.radio(:class=\"{'checked':checkedShapePopData.orderRow==1}\" @click=\"checkedShapePopData.orderRow=1\") 顺时针\r\n\t\t\th4\r\n\t\t\t\tspan 竖直排序方向：\r\n\t\t\t\tem.radio( :class=\"{'checked':checkedShape.orderCol==0}\" @click=\"checkedShapePopData.orderCol=0\") 由里向外\r\n\t\t\t\tem.radio( :class=\"{'checked':checkedShapePopData.orderCol==1}\" @click=\"checkedShapePopData.orderCol=1\") 由外向里\r\n\t\t\th4\r\n\t\t\t\tbutton(@click=\"checkedShapeSeatComfrim\") 确认\r\n\t\t\t\tbutton(@click=\"checkedShapeSeatCancle\") 取消\r\n\t.hover-info(v-show=\"hoverInfo.show\" :style=\"{left:hoverInfo.left+'px',top:hoverInfo.top+'px'}\")\r\n\t\tspan {{hoverInfo.text}}\r\n\t\tdiv\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport TOOLS from '@/utils/tools.js'\r\nimport COMMON from '@/utils/common.js'\r\nlet _this = null,\r\n    contentWarp = null,\r\n    svgWarp = null,\r\n    svgDom = null,\r\n    move_x = 0,\r\n    move_y = 0,\r\n    warpIsDragging = false;\r\nlet canvas = null,\r\n    ctx = null;\r\nexport default {\r\n    name: \"\",\r\n    components: {},\r\n    data() {\r\n        return {\r\n            pageVisible: true,\r\n            errorRange: 50,\r\n\r\n            seatCanvasWarp: {\r\n                dom: null,\r\n                offsetLeft: 0,\r\n                offsetTop: 0\r\n            },\r\n            seatCanvas: {\r\n                dom: \"\",\r\n                ctx: null,\r\n                width: 0,\r\n                height: 0,\r\n                paddingLeft: 20,\r\n                paddingTop: 20,\r\n                seatWdith: 20,\r\n                seatHeight: 20,\r\n                seatMarginRight: 5,\r\n                seatMarginBottom: 5,\r\n                top: 0,\r\n                left: 0\r\n            },\r\n            selectCanvas: {\r\n                dom: \"\",\r\n                ctx: null\r\n            },\r\n            activeTop: 100,\r\n            activeLeft: 50,\r\n\r\n            selectedBox: {\r\n                width: 0,\r\n                height: 0,\r\n                top: 0,\r\n                left: 0\r\n            },\r\n            selectedSeatList: [],\r\n\r\n            hoverPinkBox: {\r\n                width: 0,\r\n                height: 0,\r\n                top: 0,\r\n                left: 0\r\n            },\r\n\r\n\r\n            hoverInfo: {\r\n                show: false,\r\n                text: \"\",\r\n                top: 0,\r\n                left: 0\r\n            },\r\n\r\n            //切割成多少个canvas\r\n            canvasSplit: {\r\n                row: 7,\r\n                col: 7\r\n            },\r\n\r\n            canvasList: [], //二维数组\r\n\r\n            batchAction: false, //批量操作\r\n\r\n            // wheelMax: 1,//最大缩放值\r\n            wheelMax: 1.3, //最大缩放值\r\n\r\n            wheelNum: 0, //当前缩放值\r\n            wheelMin: 0, //最小缩放值\r\n\r\n            center: {\r\n                find: false,\r\n                x: 0,\r\n                y: 0\r\n            },\r\n            canvas: {\r\n                left: 0,\r\n                top: 0\r\n            },\r\n\r\n            svg: \"\",\r\n\r\n            maxWidth: 0,\r\n            maxHeight: 0,\r\n            setWidth: 0,\r\n            setHeight: 0,\r\n            minWidth: 0,\r\n            minHeight: 0,\r\n\r\n            position: {\r\n                left: 0,\r\n                top: 0\r\n            },\r\n            cont: {\r\n                width: 0,\r\n                height: 0,\r\n                offsetLeft: 0,\r\n                offsetTop: 0,\r\n                center: []\r\n            },\r\n            miniMap: {\r\n                show: true,\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            checkBox: {\r\n                width: 0,\r\n                height: 0,\r\n                top: 0,\r\n                left: 0,\r\n            },\r\n\r\n            seatIcon: { //座位图标\r\n                iconShow: \"\",\r\n                iconNone: \"\",\r\n                width: 20,\r\n                height: 20,\r\n                marginRight: 5,\r\n                marginBottom: 5\r\n            },\r\n\r\n            checkedShapeShow: false,\r\n            checkedShapePopData: {\r\n                shapeId: null,\r\n                rows: 0,\r\n                cols: 0,\r\n                startRow: 0, //排座的开始行\r\n                startCol: 0, //排座的开始列（座）\r\n                orderRow: 0, //横向排序方向：0：逆时针  1：反向\r\n                orderCol: 0 //纵向排序方向：0：从里向外  1：反向\r\n            },\r\n            checkedShape: {\r\n                shapeId: null,\r\n                rows: 0,\r\n                cols: 0,\r\n                startRow: 0, //排座的开始行\r\n                startCol: 0, //排座的开始列（座）\r\n                orderRow: 0, //横向排序方向：0：逆时针  1：反向\r\n                orderCol: 0 //纵向排序方向：0：从里向外  1：反向\r\n                // seats:[]\r\n            },\r\n            checkedShapeIdx: null,\r\n\r\n            shapeList: [\r\n                // {\r\n                //     cenPoint:[0,0],\r\n                //     angle:0,\r\n                //     shapeId:0,\r\n                //     rows:10,\r\n                //     cols:10,\r\n                //     startRow:2,//排座的开始行\r\n                //     startCol:2,//排座的开始列（座）\r\n                //     seats:[\r\n                //        [ {seatId:0,status:0,ticketLevel:0},{seatId:2,status:0,ticketLevel:0}],\r\n                //        [ {seatId:7,status:0,ticketLevel:0},{seatId:5,status:0,ticketLevel:0}],\r\n                //        [ {seatId:6,status:0,ticketLevel:0},{seatId:4,status:0,ticketLevel:0}]\r\n                //     ]\r\n                // }\r\n            ],\r\n            renderList: [], //已经渲染的shape\r\n            viewBoxList: [] //当前可视区域内的shape\r\n        };\r\n    },\r\n    computed: {},\r\n    watch: {\r\n        shapeList: {\r\n            handler(newVal) {\r\n                this.saveAction()\r\n            },\r\n            deep: true\r\n        },\r\n        checkedShape: {\r\n            handler(shape, oldShape) {\r\n                if (shape.shapeId == oldShape.shapeId && shape.cols == oldShape.cols && shape.rows == oldShape.rows) return false;\r\n                if (shape.cols == 0 || shape.rows == 0) {\r\n                    this.checkedShapeShow = true;\r\n                } else {\r\n                    this.drawSeatCanvas(shape)\r\n                }\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    created() {\r\n        _this = this;\r\n        if (localStorage.getItem(\"shapeList\")) {\r\n            this.shapeList = JSON.parse(localStorage.getItem(\"shapeList\"));\r\n        }\r\n        if (localStorage.getItem(\"seatIcon\")) {\r\n            this.seatIcon = JSON.parse(localStorage.getItem(\"seatIcon\"));\r\n        }\r\n    },\r\n    mounted() {\r\n        this.pageInit()\r\n\r\n    },\r\n    beforeDestroy() {\r\n\r\n    },\r\n    methods: {\r\n        pageInit() {\r\n            // this.judgePageActive()\r\n            this.svg = _svg;\r\n            // this.svg = _svgBaobao;\r\n            //canvas init\r\n            this.seatCanvasInit()\r\n\r\n            this.$nextTick(() => {\r\n                this.svgInit();\r\n            });\r\n        },\r\n        seatCanvasInit() {\r\n            this.seatCanvasWarp.dom = this.$refs.seatCanvasWarp;\r\n            this.seatCanvasWarp.dom.addEventListener(\"scroll\", this.seatCanvasWarpScroll)\r\n            this.seatCanvasWarp.offsetLeft = this.seatCanvasWarp.dom.offsetLeft;\r\n            this.seatCanvasWarp.offsetTop = this.seatCanvasWarp.dom.offsetTop;\r\n\r\n\r\n            this.seatCanvas.dom = this.$refs.seatCanvas;\r\n            this.seatCanvas.ctx = this.$refs.seatCanvas.getContext(\"2d\");\r\n            // this.selectCanvas.dom = this.$refs.selectCanvas;\r\n            // this.selectCanvas.ctx = this.$refs.selectCanvas.getContext(\"2d\");\r\n\r\n            this.seatCanvasBindAction()\r\n\r\n        },\r\n        seatCanvasBindAction() { //seatCanvas绑定鼠标事件\r\n            let onlyForAction = this.$refs.onlyForAction;\r\n            onlyForAction.onmousedown = function(e) { //点击\r\n                _this.selectedBox.width = 0;\r\n                _this.selectedBox.height = 0;\r\n                //鼠标坐标点\r\n                let clickX = e.clientX - _this.seatCanvasWarp.offsetLeft - _this.seatCanvas.left;\r\n                let clickY = e.clientY - _this.seatCanvasWarp.offsetTop - _this.seatCanvas.top;\r\n                let clickPoint = [clickX, clickY]\r\n                let seat_width = _this.seatCanvas.seatWdith + _this.seatCanvas.seatMarginRight;\r\n                let seat_height = _this.seatCanvas.seatHeight + _this.seatCanvas.seatMarginBottom;\r\n                let max_width = _this.checkedShape.cols * seat_width + _this.seatCanvas.paddingLeft * 2 - _this.seatCanvas.seatMarginRight;\r\n                let max_height = _this.checkedShape.rows * seat_height + _this.seatCanvas.paddingTop * 2 - _this.seatCanvas.seatMarginBottom;\r\n\r\n                onlyForAction.onmousemove = function(e) { //拖拽\r\n                    let width = e.clientX - clickX - _this.seatCanvasWarp.offsetLeft - _this.seatCanvas.left;\r\n                    let height = e.clientY - clickY - _this.seatCanvasWarp.offsetTop - _this.seatCanvas.top;\r\n                    if (clickX + width > max_width) {\r\n                        width = max_width - clickX\r\n                    }\r\n                    if (clickY + height > max_height) {\r\n                        height = max_height - clickY\r\n                    }\r\n                    if (width > 0) {\r\n                        _this.selectedBox.left = clickX;\r\n                    } else {\r\n                        _this.selectedBox.left = clickX - Math.abs(width);\r\n                    }\r\n                    if (height > 0) {\r\n                        _this.selectedBox.top = clickY;\r\n                    } else {\r\n                        _this.selectedBox.top = clickY - Math.abs(height);\r\n                    }\r\n                    clickPoint = [_this.selectedBox.left, _this.selectedBox.top]\r\n                    if (Math.abs(width) > 20 && Math.abs(height) > 20) {\r\n                        _this.selectedBox.width = Math.abs(width);\r\n                        _this.selectedBox.height = Math.abs(height);\r\n                    }\r\n\r\n                }\r\n                onlyForAction.onmouseup = function(e) { //鼠标弹起\r\n                    onlyForAction.onmousemove = null;\r\n                    onlyForAction.onmouseup = null;\r\n                    onlyForAction.onmouseout = null;\r\n                    _this.endAction(clickPoint, seat_width, seat_height)\r\n                }\r\n                onlyForAction.onmouseout = function(e) { //鼠标弹起\r\n                    onlyForAction.onmousemove = null;\r\n                    onlyForAction.onmouseup = null;\r\n                    onlyForAction.onmouseout = null;\r\n                    _this.endAction(clickPoint, seat_width, seat_height)\r\n                }\r\n            }\r\n\r\n        },\r\n        endAction(clickPoint, seat_width, seat_height) {\r\n            //点击事件\r\n            if (this.selectedBox.width == 0 && this.selectedBox.height == 0) {\r\n                let seat = []\r\n                for (let i = 0; i < this.checkedShape.cols; i++) {\r\n                    let real_x = i * seat_width + this.seatCanvas.paddingLeft;\r\n                    for (let j = 0; j < this.checkedShape.rows; j++) {\r\n                        let real_y = j * seat_height + this.seatCanvas.paddingTop;\r\n                        let seatPoint = [real_x + this.seatCanvas.seatWdith / 2, real_y + this.seatCanvas.seatHeight / 2]\r\n                        if (TOOLS.getDisance1(seatPoint, clickPoint) < this.seatCanvas.seatWdith / 2) {\r\n                            seat = [j, i];\r\n                            break;\r\n                        }\r\n                        if (seat.length != 0) break;\r\n                    }\r\n                    if (seat.length != 0) break;\r\n                }\r\n                if (seat.length == 0) return false;\r\n                let real_x = seat[1] * seat_width + this.seatCanvas.paddingLeft;\r\n                let real_y = seat[0] * seat_height + this.seatCanvas.paddingTop;\r\n                if (this.selectedSeatList.length != 0) {\r\n                    //已经有选中的了\r\n                    let hasIdx = -1;\r\n                    for (let i = 0; i < this.selectedSeatList.length; i++) {\r\n                        let selcted_seat = this.selectedSeatList[i];\r\n                        if (selcted_seat.toString() == seat.toString()) {\r\n                            hasIdx = i;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (hasIdx != -1) { //相等表明是取消操作，显示该座位本来状态\r\n                        this.seatCanvas.ctx.beginPath();\r\n                        if (this.checkedShape.seats[seat[0]][seat[1]].status == 0) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconShow, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        } else if (this.checkedShape.seats[seat[0]][seat[1]].status == -1) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconNone, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        }\r\n                        this.$delete(this.selectedSeatList, hasIdx);\r\n                    } else {\r\n                        //添加，选中座位\r\n                        this.seatCanvas.ctx.beginPath();\r\n                        this.seatCanvas.ctx.drawImage(this.seatIcon.iconSelected, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        this.selectedSeatList.push(seat);\r\n                    }\r\n                } else {\r\n                    //单个座位状态切换\r\n                    let seatPoint = [real_x + this.seatCanvas.seatWdith / 2, real_y + this.seatCanvas.seatHeight / 2]\r\n                    if (this.checkedShape.seats[seat[0]][seat[1]].status == 0) {\r\n                        this.checkedShape.seats[seat[0]][seat[1]].status = -1;\r\n                    } else {\r\n                        this.checkedShape.seats[seat[0]][seat[1]].status = 0;\r\n                    }\r\n                    this.seatCanvas.ctx.beginPath();\r\n                    if (this.checkedShape.seats[seat[0]][seat[1]].status == 0) {\r\n                        this.seatCanvas.ctx.drawImage(this.seatIcon.iconShow, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                    } else if (this.checkedShape.seats[seat[0]][seat[1]].status == -1) {\r\n                        this.seatCanvas.ctx.drawImage(this.seatIcon.iconNone, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                    }\r\n                    this.checkedShape = this.orderSeats({\r\n                        ...this.checkedShape\r\n                    })\r\n                    //更新数据到shapeList中\r\n                    this.$set(this.shapeList, this.checkedShapeIdx, {\r\n                        ...this.checkedShape\r\n                    })\r\n                }\r\n            } else {\r\n                //拖拽事件，判断当前选中的座位\r\n                let endPoint = [clickPoint[0] + this.selectedBox.width, clickPoint[1] + this.selectedBox.height];\r\n                let selectedList = [];\r\n                for (let i = 0; i < this.checkedShape.cols; i++) {\r\n                    let real_x = i * seat_width + this.seatCanvas.paddingLeft;\r\n                    for (let j = 0; j < this.checkedShape.rows; j++) {\r\n                        let real_y = j * seat_height + this.seatCanvas.paddingTop;\r\n                        let point1 = [real_x, real_y];\r\n                        let point2 = [real_x + this.seatCanvas.seatWdith, real_y + this.seatCanvas.seatHeight];\r\n                        if (\r\n                            point1[0] >= clickPoint[0] && point1[0] <= endPoint[0] &&\r\n                            point2[0] >= clickPoint[0] && point2[0] <= endPoint[0] &&\r\n                            point1[1] >= clickPoint[1] && point1[1] <= endPoint[1] &&\r\n                            point2[1] >= clickPoint[1] && point2[1] <= endPoint[1]\r\n                        ) {\r\n                            this.seatCanvas.ctx.beginPath();\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconSelected, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                            selectedList.push([j, i])\r\n                        }\r\n                    }\r\n                }\r\n                this.selectedSeatList.push(...selectedList);\r\n            }\r\n        },\r\n        checkedRowsOrCols(idx, type) {\r\n            // 是选择row还是col，true==row\r\n            let list = []\r\n            let seat_width = _this.seatCanvas.seatWdith + _this.seatCanvas.seatMarginRight;\r\n            let seat_height = _this.seatCanvas.seatHeight + _this.seatCanvas.seatMarginBottom;\r\n            let row = type ? idx : 0;\r\n            let col = type ? 0 : idx;\r\n            let len = type ? this.checkedShape.rows : this.checkedShape.cols;\r\n            for (let j = 0; j < len; j++) {\r\n                if (type) {\r\n                    col = j\r\n                } else {\r\n                    row = j;\r\n                }\r\n                let real_x = col * seat_height + _this.seatCanvas.paddingTop;\r\n                let real_y = row * seat_width + _this.seatCanvas.paddingLeft;\r\n                //判断是否已经在selectedSeatList存在\r\n                let has = false;\r\n                _this.seatCanvas.ctx.beginPath();\r\n                for (let i = 0; i < _this.selectedSeatList.length; i++) {\r\n                    if (_this.selectedSeatList[i].toString() == [row, col].toString()) {\r\n                        has = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!has) {\r\n                    _this.seatCanvas.ctx.drawImage(_this.seatIcon.iconSelected, real_x, real_y, _this.seatCanvas.seatWdith, _this.seatCanvas.seatHeight);\r\n                    list.push([row, col])\r\n                }\r\n            }\r\n            this.selectedSeatList.push(...list)\r\n        },\r\n        hoverRowsOrCols(idx, type) {\r\n            let seat_width = this.seatCanvas.seatWdith + this.seatCanvas.seatMarginRight;\r\n            let seat_height = this.seatCanvas.seatHeight + this.seatCanvas.seatMarginBottom;\r\n            if (type) {\r\n                // row\r\n                this.hoverPinkBox.width = this.checkedShape.cols * seat_width + this.seatCanvas.paddingLeft * 2 - this.seatCanvas.seatMarginRight;\r\n                this.hoverPinkBox.height = this.seatCanvas.seatHeight;\r\n                this.hoverPinkBox.left = 0;\r\n                this.hoverPinkBox.top = idx * seat_height + this.seatCanvas.paddingTop;\r\n            } else {\r\n                // col\r\n                this.hoverPinkBox.width = this.seatCanvas.seatWdith;\r\n                this.hoverPinkBox.height = this.checkedShape.rows * seat_height + this.seatCanvas.paddingTop * 2 - this.seatCanvas.seatMarginBottom;\r\n                this.hoverPinkBox.left = idx * seat_width + this.seatCanvas.paddingLeft;\r\n                this.hoverPinkBox.top = 0;\r\n            }\r\n\r\n        },\r\n        cancleSeleced() {\r\n            this.drawSeatCanvas(this.checkedShape)\r\n        },\r\n        addSeat() {\r\n            let seats = [...this.checkedShape.seats]\r\n            this.selectedSeatList.forEach(seat => {\r\n                seats[seat[0]][seat[1]].status = 0\r\n            })\r\n            this.checkedShape.seats = seats\r\n            this.checkedShape = this.orderSeats({\r\n                ...this.checkedShape\r\n            })\r\n            this.drawSeatCanvas(this.checkedShape)\r\n            this.$set(this.shapeList, this.checkedShapeIdx, {\r\n                ...this.checkedShape\r\n            })\r\n        },\r\n        removeSeat() {\r\n            let seats = [...this.checkedShape.seats]\r\n            this.selectedSeatList.forEach(seat => {\r\n                seats[seat[0]][seat[1]].status = -1\r\n            })\r\n            this.checkedShape.seats = seats;\r\n            this.checkedShape = this.orderSeats({\r\n                ...this.checkedShape\r\n            })\r\n            this.drawSeatCanvas(this.checkedShape)\r\n            this.$set(this.shapeList, this.checkedShapeIdx, {\r\n                ...this.checkedShape\r\n            })\r\n        },\r\n        orderSeats(shape) { //排座\r\n            let seats = shape.seats;\r\n            let rowString = 0;\r\n            for (let row = 0; row < shape.rows; row++) {\r\n                //只有当整行没有任何座位的时候才不计算\r\n                let count = 0;\r\n                for (let col = 0; col < shape.cols; col++) {\r\n                    if (seats[row][col].status != -1) count += 1;\r\n                }\r\n                if (count != 0) rowString += 1;\r\n                let colString = 0;\r\n                for (let col = 0; col < shape.cols; col++) {\r\n                    let seatInfo = seats[row][col];\r\n                    seatInfo.rowString = rowString\r\n                    if (seatInfo.status != -1) {\r\n                        colString += 1;\r\n                        seatInfo.colString = colString\r\n                    } else {\r\n                        seatInfo.colString = \"-1\"\r\n                    }\r\n                }\r\n            }\r\n            return shape;\r\n        },\r\n        drawSeatCanvas(shape) {\r\n            this.selectedBox = {\r\n                width: 0,\r\n                height: 0,\r\n                top: 0,\r\n                left: 0\r\n            };\r\n            this.selectedSeatList = [];\r\n            this.seatCanvas.ctx.clearRect(0, 0, this.seatCanvas.width, this.seatCanvas.height);\r\n            // this.selectCanvas.ctx.clearRect(0, 0, this.seatCanvas.width, this.seatCanvas.height);\r\n\r\n            let seat_width = this.seatCanvas.seatWdith + this.seatCanvas.seatMarginRight;\r\n            let seat_height = this.seatCanvas.seatHeight + this.seatCanvas.seatMarginBottom;\r\n            this.seatCanvas.width = shape.cols * seat_width + this.seatCanvas.paddingLeft * 2 - this.seatCanvas.seatMarginRight;\r\n            this.seatCanvas.height = shape.rows * seat_height + this.seatCanvas.paddingTop * 2 - this.seatCanvas.seatMarginBottom;\r\n            this.seatCanvas.dom.width = this.seatCanvas.width;\r\n            this.seatCanvas.dom.height = this.seatCanvas.height;\r\n\r\n            // this.selectCanvas.dom.width = this.seatCanvas.width;\r\n            // this.selectCanvas.dom.height = this.seatCanvas.height;\r\n\r\n            //绘制中线\r\n            // 垂直线\r\n            this.seatCanvas.ctx.strokeStyle = 'green';\r\n            this.seatCanvas.ctx.lineWidth = 2;\r\n            this.seatCanvas.ctx.beginPath();\r\n            this.seatCanvas.ctx.moveTo(this.seatCanvas.width / 2, 0);\r\n            this.seatCanvas.ctx.lineTo(this.seatCanvas.width / 2, this.seatCanvas.height);\r\n            this.seatCanvas.ctx.setLineDash([8, 10]);\r\n            this.seatCanvas.ctx.lineCap = \"round\";\r\n            this.seatCanvas.ctx.stroke();\r\n            this.seatCanvas.ctx.closePath();\r\n            //水平线\r\n            this.seatCanvas.ctx.beginPath();\r\n            this.seatCanvas.ctx.moveTo(0, this.seatCanvas.height / 2);\r\n            this.seatCanvas.ctx.lineTo(this.seatCanvas.width, this.seatCanvas.height / 2);\r\n            this.seatCanvas.ctx.stroke();\r\n            this.seatCanvas.ctx.closePath();\r\n\r\n            this.$nextTick(() => {\r\n                for (let i = 0; i < shape.cols; i++) {\r\n                    let real_x = i * seat_width + this.seatCanvas.paddingLeft\r\n                    for (let j = 0; j < shape.rows; j++) {\r\n                        let real_y = j * seat_height + this.seatCanvas.paddingTop;\r\n                        this.seatCanvas.ctx.beginPath();\r\n                        if (shape.seats[j][i].status == 0) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconShow, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        } else if (shape.seats[j][i].status == -1) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconNone, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        seatCanvasWarpScroll() {\r\n            let top = this.$refs.seatCanvasWarp.scrollTop;\r\n            let left = this.$refs.seatCanvasWarp.scrollLeft;\r\n            this.seatCanvas.left = -left;\r\n            this.seatCanvas.top = -top;\r\n        },\r\n        seatCanvasClick(e) {\r\n            //鼠标坐标点\r\n            let clickX = e.clientX - this.seatCanvasWarp.offsetLeft - this.seatCanvas.left;\r\n            let clickY = e.clientY - this.seatCanvasWarp.offsetTop - this.seatCanvas.top;\r\n            let clickPoint = [clickX, clickY]\r\n            let seat_width = this.seatCanvas.seatWdith + this.seatCanvas.seatMarginRight;\r\n            let seat_height = this.seatCanvas.seatHeight + this.seatCanvas.seatMarginBottom;\r\n            // let shape = this.checkedShape\r\n            let seat = []\r\n            for (let i = 0; i < this.checkedShape.cols; i++) {\r\n                let real_x = i * seat_width + this.seatCanvas.paddingLeft;\r\n                for (let j = 0; j < this.checkedShape.rows; j++) {\r\n                    let real_y = j * seat_height + this.seatCanvas.paddingTop;\r\n                    let seatPoint = [real_x + this.seatCanvas.seatWdith / 2, real_y + this.seatCanvas.seatHeight / 2]\r\n                    if (TOOLS.getDisance1(seatPoint, clickPoint) < this.seatCanvas.seatWdith / 2) {\r\n                        seat = [j, i];\r\n                        if (this.checkedShape.seats[j][i].status == 0) {\r\n                            this.checkedShape.seats[j][i].status = -1;\r\n                        } else {\r\n                            this.checkedShape.seats[j][i].status = 0;\r\n                        }\r\n                        this.seatCanvas.ctx.beginPath();\r\n                        if (this.checkedShape.seats[j][i].status == 0) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconShow, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        } else if (this.checkedShape.seats[j][i].status == -1) {\r\n                            this.seatCanvas.ctx.drawImage(this.seatIcon.iconNone, real_x, real_y, this.seatCanvas.seatWdith, this.seatCanvas.seatHeight);\r\n                        }\r\n                        //更新数据到shapeList中\r\n                        this.shapeList[this.checkedShapeIdx].seats[j][i].status = this.checkedShape.seats[j][i].status;\r\n                        break;\r\n                    }\r\n                    if (seat.length != 0) break;\r\n                }\r\n            }\r\n        },\r\n        svgInit() {\r\n            svgWarp = this.$refs.svgWarp;\r\n            svgDom = svgWarp.firstElementChild;\r\n\r\n            // svgDom.onmousedown = this.warpClick;\r\n\r\n            // svgDom.onmouseup = this.warpDataInit;\r\n\r\n            // svgDom.onmouseout = this.warpDataInit;\r\n\r\n            // svgDom.onmousemove = this.warpDrag;\r\n            // 获取到shapeList的所有shapeId集合\r\n            let shapeIds = this.shapeList.map(item => item.shapeId);\r\n            // console.log(shapeIds)\r\n            //给元素设定id\r\n            let domList = svgDom.childNodes;\r\n            let id_num = 0;\r\n            domList.forEach(item => {\r\n                /* 元素节点\t1,属性节点\t2,文本节点\t3,注释节点（comment）\t8,document\t9,DocumentFragment\t11 */\r\n                if (item.nodeType == 1 && item.nodeName != \"text\" && item.nodeName != \"title\") {\r\n                    let curId = ++id_num;\r\n                    item.setAttribute(\"id\", curId);\r\n                    let findIdx = shapeIds.indexOf(curId + \"\");\r\n                    if (findIdx != -1) {\r\n                        if (this.shapeList[findIdx].rows > 0 && this.shapeList[findIdx].cols > 0) {\r\n                            item.style.fill = \"rgba(255, 192, 203, 0.74)\";\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n\r\n            let viewBox = svgDom.getAttribute(\"viewBox\").split(\" \")\r\n            this.center = {\r\n                find: true,\r\n                x: parseFloat(viewBox[2]) / 2,\r\n                y: parseFloat(viewBox[3]) / 2\r\n            }\r\n            let conWidth = this.$refs.content.clientWidth,\r\n                conHeight = this.$refs.content.clientHeight;\r\n            svgDom.setAttribute(\"width\", conWidth)\r\n            svgDom.setAttribute(\"height\", conHeight)\r\n            //给shape绑定选中事件\r\n            svgDom.addEventListener(\"click\", _this.shapeCheckedAction)\r\n\r\n            //座位图标初始化\r\n            this.seatIconInit()\r\n        },\r\n        shapeCheckedAction(e) {\r\n            let shape = e.target;\r\n            let name = shape.nodeName;\r\n            if (name != \"path\" && name != \"rect\" && name != \"polygon\") return false;\r\n\r\n            let shapeObj = [];\r\n            let shapeId = shape.getAttribute(\"id\");\r\n            // 获取到shapeList的所有shapeId集合\r\n            let shapeIds = this.shapeList.map(item => item.shapeId);\r\n            if (shapeIds.indexOf(shapeId) == -1) {\r\n                // shape.style.fill = \"rgba(255, 192, 203, 0.74)\";\r\n                //id没有存在在列表中表明，还没有点击过这个shape\r\n                //获取shape在svg中的一些原始 start\r\n                let result = null;\r\n                switch (name) {\r\n                    case \"path\":\r\n                        result = TOOLS.pathDecompose([this.center.x, this.center.y], shape.getAttribute(\"d\"));\r\n                        break;\r\n                    case \"polygon\":\r\n                        result = TOOLS.polygonDecompose([this.center.x, this.center.y], shape.getAttribute(\"points\"));\r\n                        break;\r\n                    case \"rect\":\r\n                        let width = shape.getAttribute(\"width\");\r\n                        let height = shape.getAttribute(\"height\");\r\n                        let x = shape.getAttribute(\"x\");\r\n                        let y = shape.getAttribute(\"y\");\r\n                        result = TOOLS.rectDecompose([this.center.x, this.center.y], x, y, width, height);\r\n                        break;\r\n                    default:\r\n                        console.log(name);\r\n                        break;\r\n                }\r\n                //获取shape在svg中的一些原始 end\r\n                if (result == null) return false;\r\n                shapeObj = {\r\n                    ...result,\r\n                    shapeId,\r\n                    rows: 0,\r\n                    cols: 0,\r\n                    startRow: 1,\r\n                    startCol: 1,\r\n                    orderRow: 0, //横向排序方向：0：逆时针  1：反向\r\n                    orderCol: 0, //纵向排序方向：0：从里向外  1：反向\r\n                    seats: []\r\n                }\r\n                // this.shapeList.push({\r\n                //     ...shapeObj\r\n                // });\r\n                // this.checkedShapeIdx = this.shapeList.length;\r\n                this.toggleCheckedShapeStatus({\r\n                    ...shapeObj\r\n                }, {\r\n                    ...this.checkedShape\r\n                })\r\n                this.checkedShapeShow = true;\r\n                this.checkedShapePopData = {\r\n                    ...shapeObj\r\n                };\r\n                //没有设置座位区域，需要先让用户设置区域座位信息\r\n\r\n\r\n            } else {\r\n                let shapeIndex = shapeIds.indexOf(shapeId)\r\n                shapeObj = JSON.parse(JSON.stringify(this.shapeList[shapeIndex]))\r\n\r\n\r\n                //没有设置座位区域，需要先让用户设置区域座位信息\r\n                if (this.checkedShape.shapeId != shapeObj.shapeId) {\r\n                    this.toggleCheckedShapeStatus(shapeObj, {\r\n                        ...this.checkedShape\r\n                    })\r\n                    this.checkedShape = shapeObj;\r\n                    let shapeIds = this.shapeList.map(item => item.shapeId);\r\n                    this.checkedShapeIdx = shapeIds.indexOf(shapeId);\r\n                    return false;\r\n                }\r\n\r\n            }\r\n        },\r\n        toggleCheckedShapeStatus(shape, originShape = false) { //选中shape显示状态切换\r\n            if (originShape && originShape.shapeId) {\r\n                if (shape.shapeId == originShape.shapeId) return false;\r\n                document.getElementById(originShape.shapeId).style.stroke = \"#333\";\r\n                document.getElementById(originShape.shapeId).style.strokeWidth = 1;\r\n            }\r\n            document.getElementById(shape.shapeId).style.strokeWidth = 16;\r\n            document.getElementById(shape.shapeId).style.stroke = \"green\";\r\n            document.getElementById(\"500\").setAttribute(\"style\", \"transform: rotate(\" + shape.angle + \"deg);transform-origin: 50% 50%;\");\r\n        },\r\n        checkedShapeSeatComfrim() { //保存设置行列\r\n            this.checkedShapeShow = false;\r\n            let shape = {\r\n                ...this.checkedShapePopData\r\n            };\r\n            //生成座位\r\n            let seatIdStart = 0;\r\n            shape.seats = [];\r\n            //先循环行，再循环列\r\n            if (shape.orderRow == 0) { //逆时针\r\n                for (let i = 0; i < shape.rows; i++) {\r\n                    let rowList = [];\r\n                    if (shape.orderCol == 0) { //从里向外\r\n                        for (let j = 0; j < shape.cols; j++) {\r\n                            let seat = {\r\n                                seatId: seatIdStart++,\r\n                                status: 0,\r\n                                rowString: shape.startRow + i,\r\n                                colString: shape.startCol + j,\r\n                                level: 0\r\n                            }\r\n                            rowList.push(seat);\r\n                        }\r\n                    } else { //反向\r\n                        for (let j = shape.cols - 1; j > -1; j--) {\r\n                            let seat = {\r\n                                seatId: seatIdStart++,\r\n                                status: 0,\r\n                                rowString: shape.startRow + i,\r\n                                colString: shape.startCol + j,\r\n                                level: 0\r\n                            }\r\n                            rowList.push(seat);\r\n                        }\r\n                    }\r\n                    shape.seats.push(rowList)\r\n                }\r\n            } else { //顺时针\r\n                for (let i = shape.rows - 1; i > -1; i--) {\r\n                    let rowList = [];\r\n                    if (shape.orderCol == 0) { //从里向外\r\n                        for (let j = 0; j < shape.cols; j++) {\r\n                            let seat = {\r\n                                seatId: seatIdStart++,\r\n                                status: 0,\r\n                                rowString: shape.startRow + i,\r\n                                colString: shape.startCol + j,\r\n                                level: 0\r\n                            }\r\n                            rowList.push(seat);\r\n                        }\r\n                    } else { //反向\r\n                        for (let j = shape.cols - 1; j > -1; j--) {\r\n                            let seat = {\r\n                                seatId: seatIdStart++,\r\n                                status: 0,\r\n                                rowString: shape.startRow + i,\r\n                                colString: shape.startCol + j,\r\n                                level: 0\r\n                            }\r\n                            rowList.push(seat);\r\n                        }\r\n                    }\r\n                    shape.seats.push(rowList)\r\n                }\r\n            }\r\n            //把数据保存到shapeList中\r\n            let shapeId = shape.shapeId;\r\n            let shapeIds = this.shapeList.map(item => item.shapeId);\r\n            let shapeIndex = shapeIds.indexOf(shapeId);\r\n            if (shapeIndex != -1) {\r\n                this.$set(this.shapeList, shapeIndex, {\r\n                    ...shape\r\n                });\r\n            } else {\r\n                //说明是第一次保存\r\n                this.shapeList.push({\r\n                    ...shape\r\n                })\r\n            }\r\n            this.checkedShape = {\r\n                ...shape\r\n            }\r\n            this.checkedShape = this.orderSeats({\r\n                ...this.checkedShape\r\n            })\r\n            let renderIds = this.renderList.map(item => item.shapeId);\r\n            let renderIndex = renderIds.indexOf(shapeId);\r\n            if (renderIndex != -1) {\r\n                this.$set(this.renderList, renderIndex, {\r\n                    ...shape\r\n                });\r\n            } else {\r\n                this.renderList.push({\r\n                    ...shape\r\n                })\r\n            }\r\n            this.viewBoxList.push({\r\n                ...shape\r\n            })\r\n            document.getElementById(shape.shapeId).style.fill = \"rgba(255, 192, 203, 0.74)\";\r\n        },\r\n        checkedShapeSeatCancle() { //取消设置行列\r\n            console.log(\"checkedShapeSeatCancle..........\")\r\n            this.checkedShapeShow = false;\r\n            this.toggleCheckedShapeStatus({\r\n                ...this.checkedShape\r\n            }, {\r\n                ...this.checkedShapePopData\r\n            })\r\n        },\r\n        //座位信息 start\r\n        seatIconInit() { //座位图标初始化\r\n            this.seatIcon.iconShow = this.$refs.iconShow;\r\n            this.seatIcon.iconNone = this.$refs.iconNone;\r\n            this.seatIcon.iconSelected = this.$refs.iconSelected;\r\n        },\r\n        //座位信息 end\r\n        judgePageActive() { //判断当前页面是否是激活状态\r\n\r\n            var hidden, state, visibilityChange;\r\n            if (typeof document.hidden !== \"undefined\") {\r\n                hidden = \"hidden\";\r\n                visibilityChange = \"visibilitychange\";\r\n                state = \"visibilityState\";\r\n            } else if (typeof document.mozHidden !== \"undefined\") {\r\n                hidden = \"mozHidden\";\r\n                visibilityChange = \"mozvisibilitychange\";\r\n                state = \"mozVisibilityState\";\r\n            } else if (typeof document.msHidden !== \"undefined\") {\r\n                hidden = \"msHidden\";\r\n                visibilityChange = \"msvisibilitychange\";\r\n                state = \"msVisibilityState\";\r\n            } else if (typeof document.webkitHidden !== \"undefined\") {\r\n                hidden = \"webkitHidden\";\r\n                visibilityChange = \"webkitvisibilitychange\";\r\n                state = \"webkitVisibilityState\";\r\n            }\r\n\r\n            // 添加监听器,监听当前是否活动页面\r\n            document.addEventListener(visibilityChange, function() {\r\n                if (document[state] == \"hidden\") {\r\n                    console.log(\"hidden............\")\r\n                    let time = setTimeout(() => {\r\n                        this.pageVisible = false;\r\n                    }, 10000)\r\n                    document.title = document[state];\r\n                } else {\r\n                    console.log(\"visible............\")\r\n                    if (this.pageVisible == false) this.pageVisible = true;\r\n                }\r\n            })\r\n        },\r\n        saveAction() {\r\n            localStorage.setItem(\"shapeList\", JSON.stringify(this.shapeList));\r\n            localStorage.setItem(\"seatIcon\", JSON.stringify(this.seatIcon));\r\n        },\r\n        //普通函数方法\r\n        floatTwo(num) { //保留两位小数\r\n            return Math.floor(num * 10000) / 10000;\r\n\r\n            // rounded = (0.5 + num) | 0;\r\n            // rounded = ~~ (0.5 + num);\r\n            // rounded = (0.5 + num) << 0;\r\n        }\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ndiv {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.warp {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n\r\n    .mini-map {\r\n        // width: 282px;\r\n        // height: 212px;\r\n        // background-image: url(\"../assets/baobao.svg\");\r\n        pointer-events: none;\r\n        background-image: url(\"../assets/test2.svg\");\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 0;\r\n        background-color: #fff;\r\n        z-index: 10;\r\n        // border: 1px solid springgreen;\r\n        overflow: hidden;\r\n        background-color: rgba(66, 55, 55, 0.3);\r\n\r\n        .checkBox {\r\n            border: 1px solid red;\r\n            position: absolute;\r\n            top: -1px;\r\n            left: -1px;\r\n        }\r\n    }\r\n\r\n    .top {\r\n        height: 40px;\r\n        border-bottom: 1px solid red;\r\n        overflow: hidden;\r\n        width: 100%;\r\n    }\r\n    .bottom {\r\n        width: 100%;\r\n        height: calc(100% - 40px);\r\n        overflow: hidden;\r\n    }\r\n    .content {\r\n        height: 400px;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        position: relative;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        margin: 0 auto;\r\n        box-sizing: border-box;\r\n        .svg-warp {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            background-color: #bbbcbe;\r\n\r\n            &.showCanvas {\r\n                opacity: 0.7;\r\n                background-color: transparent;\r\n            }\r\n        }\r\n\r\n        .my-canvas {\r\n            border: 1px solid rgba(255, 192, 203, 1);\r\n            // background-color: rgba(255, 192, 203, 0.3);\r\n            // background-color: #bbbcbe;\r\n            //禁止鼠标事件\r\n            pointer-events: none;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n\r\n            // opacity: 1;\r\n        }\r\n    }\r\n    .content-warp {\r\n        height: 100%;\r\n        width: 700px;\r\n        float: left;\r\n    }\r\n    .active-area {\r\n        width: calc(100% - 700px);\r\n\r\n        border-left: 1px solid #ccc;\r\n\r\n        float: left;\r\n        // position: fixed;\r\n        // top: 0;\r\n        // right: 0;\r\n        // width: 600px;\r\n        height: 100%;\r\n        z-index: 2;\r\n        // background-color: #ccc;\r\n        // display: none;\r\n\r\n        .active-top {\r\n            border-bottom: 1px solid #ccc;\r\n            position: relative;\r\n            overflow: hidden;\r\n            .cols-span {\r\n                position: absolute;\r\n                bottom: 0;\r\n                height: 35px;\r\n                vertical-align: bottom;\r\n                overflow: hidden;\r\n                cursor: pointer;\r\n                span {\r\n                    display: block;\r\n                    width: 20px;\r\n                    margin-right: 5px;\r\n                    height: 100%;\r\n                    overflow: hidden;\r\n                    text-align: center;\r\n                    float: left;\r\n                    &:hover {\r\n                        background-color: pink;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .active-left {\r\n            height: calc(100% - 100px);\r\n            float: left;\r\n            border-right: 1px solid #ccc;\r\n            position: relative;\r\n            overflow: hidden;\r\n\r\n            .rows-span {\r\n                overflow: hidden;\r\n                cursor: pointer;\r\n                position: absolute;\r\n                left: 0;\r\n                width: 100%;\r\n                span {\r\n                    display: inline-block;\r\n                    width: 100%;\r\n                    text-align: right;\r\n                    height: 20px;\r\n                    margin-bottom: 5px;\r\n                    &:hover {\r\n                        background-color: pink;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .seat-canvas-warp {\r\n            overflow: auto;\r\n            min-height: calc(100% - 100px);\r\n            min-width: calc(100% - 100px);\r\n            position: relative;\r\n            .seat-canvas {\r\n                z-index: 2;\r\n                background:: rgba(204, 204, 204, 0.5);\r\n            }\r\n            .selected-box {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                border: 2px dashed red;\r\n                z-index: 2;\r\n            }\r\n            .hover-box {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                background-color: pink;\r\n            }\r\n            .only-for-action {\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                z-index: 3;\r\n            }\r\n        }\r\n\r\n        canvas {\r\n            float: left;\r\n            // margin: 0 auto;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n        }\r\n\r\n    }\r\n\r\n    .pop {\r\n        z-index: 10;\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(66, 55, 55, 0.3);\r\n\r\n        .pop-content {\r\n            text-align: left;\r\n            position: absolute;\r\n            width: 500px;\r\n            height: 300px;\r\n            //- padding-top: 60px;\r\n            top: 50%;\r\n            left: 50%;\r\n            margin-left: -250px;\r\n            margin-top: -150px;\r\n            background-color: #fff;\r\n\r\n            h4 {\r\n                padding: 10px;\r\n            }\r\n\r\n            em.radio {\r\n                color: #bbbcbe;\r\n                margin-right: 10px;\r\n                font-style: normal;\r\n\r\n                &.checked {\r\n                    color: red;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n.hover-info {\r\n    padding: 12px;\r\n    background-color: rgba(0,0,0,.6);\r\n    position: absolute;\r\n    -webkit-border-radius: 3px;\r\n    -moz-border-radius: 3px;\r\n    border-radius: 3px;\r\n    pointer-events: none;\r\n    transform: translate(-50%,-140%);\r\n    span {\r\n        font-size: 12px;\r\n        color: #fff;\r\n    }\r\n    div {\r\n        width: 0;\r\n        height: 0;\r\n        border-color: rgba(0,0,0,.6) transparent transparent;\r\n        border-style: solid;\r\n        border-width: 10px 10px 0;\r\n        position: absolute;\r\n        bottom: -10px;\r\n        left: 0;\r\n        right: 0;\r\n        margin: auto;\r\n    }\r\n}\r\nbutton {\r\n    padding: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./svg_to_canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./svg_to_canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./svg_to_canvas.vue?vue&type=template&id=7279ba4c&scoped=true&lang=pug&\"\nimport script from \"./svg_to_canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./svg_to_canvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./svg_to_canvas.vue?vue&type=style&index=0&id=7279ba4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7279ba4c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./svg_to_canvas.vue?vue&type=style&index=0&id=7279ba4c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./svg_to_canvas.vue?vue&type=style&index=0&id=7279ba4c&lang=scss&scoped=true&\""],"sourceRoot":""}